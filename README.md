# Dingo DNS tray

### UPD

Автор узнал про существование [nssm](https://nssm.cc/), а также про то, что он умеет в перенаправление stdout/stderr в файл (с поддержкой ротации по времени/размеру), приоритизацию, обработку ошибок и многое другое вкусное, в этом костыле больше нет никакой нужды.

---

### Но зачем??
Приложение-обертка.

Запускает [dingo](https://github.com/pforemski/dingo) в виде трей-приложения, позволяя совмещать как прелести консольного вывода, так и работы в фоне без окна на панели задач.

![](https://i.imgur.com/sJtDCVC.jpg)

![](https://i.imgur.com/C9S02gw.jpg)

### Использование

[Готовый exe'шник.](https://github.com/MahouShoujoMivutilde/dingo_tray/releases)

_Требует наличия `dingo.exe` в той же папке, что и исполняемый файл этой штуки,_ поэтому идем в [релизы dingo](https://github.com/pforemski/dingo/releases) и качаем последнюю версию под винду, а также не забываем сменить ей имя на `dingo.exe`.

Также, _чтобы система таки знала, куда теперь делать dns запросы_:

**В сетевой конфигурации** нужно выбрать, через что, собственно, происходит выход в интернет, и **сменить** там **адрес основного dns-сервера на 127.0.0.1**:

![](https://i.imgur.com/gCDA6ov.png)
![](https://i.imgur.com/L41MqPA.png)

Это минимальный вариант.

---

Опционально, _можно конфигурировать, создав в той же папке файл_ `dingo_tray.conf`, в который вписать аргументы, ровно также, как если бы запускался сам dingo.exe без этой обертки, например:

```
# * файл dingo_tray.conf *
-port <порт> -gdns:server <google_dns>
# (dingo.exe перед аргументами писать не нужно, ага)
# ...
# нет, на самом деле, оно не поддерживает комменты внутри этого файла, #SorryNotSorry
```

`<порт>`- номер порта, что dingo.exe будет слушать

`<google_dns>` - адрес ближайшего dns-over-tls сервера гугла, получить можно через `ping dns.google.com`, **не путать с 8.8.8.8 и 8.8.4.4**.

На полный список аргументов, очевидно, можно взглянуть [здесь](https://github.com/pforemski/dingo#tuning-dingo).

Без файла конфигурации оно запустится с `-port 53 -gdns:server 216.58.209.142 -h1`.
